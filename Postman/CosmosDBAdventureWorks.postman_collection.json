{
	"info": {
		"_postman_id": "e4c384f0-461c-46f2-87c1-c097dc0609de",
		"name": "CosmosDBAdventureWorks",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get All Collections DB-v1",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application",
						"type": "text"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}",
						"type": "text"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v1/colls",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v1",
						"colls"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Collections DB-v2",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application",
						"type": "text"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}",
						"type": "text"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v2/colls",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v2",
						"colls"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Collections DB-v3",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application",
						"type": "text"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}",
						"type": "text"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v3/colls",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v3",
						"colls"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Collections DB-v4",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application",
						"type": "text"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}",
						"type": "text"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v4/colls",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v4",
						"colls"
					]
				}
			},
			"response": []
		},
		{
			"name": "Query Single Customer",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"postman.clearEnvironmentVariable(\"RFC1123time\");",
							"postman.clearEnvironmentVariable(\"masterKey\");",
							"postman.clearEnvironmentVariable(\"authToken\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}"
					},
					{
						"key": "x-ms-documentdb-isquery",
						"value": "true"
					},
					{
						"key": "Content-Type",
						"value": "application/query+json"
					},
					{
						"key": "x-ms-documentdb-partitionkey",
						"value": "[\"0031725D-6D6C-40C8-943F-4C2988EE0891\"]",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v2/colls/customer/docs/0031725D-6D6C-40C8-943F-4C2988EE0891",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v2",
						"colls",
						"customer",
						"docs",
						"0031725D-6D6C-40C8-943F-4C2988EE0891"
					]
				}
			},
			"response": []
		},
		{
			"name": "Query Single Customer",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"postman.clearEnvironmentVariable(\"RFC1123time\");",
							"postman.clearEnvironmentVariable(\"masterKey\");",
							"postman.clearEnvironmentVariable(\"authToken\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}"
					},
					{
						"key": "x-ms-documentdb-isquery",
						"value": "true"
					},
					{
						"key": "Content-Type",
						"value": "application/query+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{      \r\n    \"query\": \"SELECT * FROM c WHERE c.id = @id\",     \r\n    \"parameters\": [          \r\n        {\"name\": \"@id\", \"value\": \"FFD0DD37-1F0E-4E2E-8FAC-EAF45B0E9447\"}         \r\n    ] \r\n}"
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v2/colls/customer/docs",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v2",
						"colls",
						"customer",
						"docs"
					]
				}
			},
			"response": []
		},
		{
			"name": "List All ProductCategories",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"postman.clearEnvironmentVariable(\"RFC1123time\");",
							"postman.clearEnvironmentVariable(\"masterKey\");",
							"postman.clearEnvironmentVariable(\"authToken\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}"
					},
					{
						"key": "x-ms-documentdb-isquery",
						"value": "true"
					},
					{
						"key": "Content-Type",
						"value": "application/query+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{      \r\n    \"query\": \"SELECT * FROM c WHERE c.type = 'category'\",     \r\n    \"parameters\": [] \r\n}"
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v2/colls/productCategory/docs",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v2",
						"colls",
						"productCategory",
						"docs"
					]
				}
			},
			"response": []
		},
		{
			"name": "Query Products By CategoryId",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"postman.clearEnvironmentVariable(\"RFC1123time\");",
							"postman.clearEnvironmentVariable(\"masterKey\");",
							"postman.clearEnvironmentVariable(\"authToken\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}"
					},
					{
						"key": "x-ms-documentdb-isquery",
						"value": "true"
					},
					{
						"key": "Content-Type",
						"value": "application/query+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{      \r\n    \"query\": \"SELECT * FROM c WHERE c.categoryId = @categoryId\",     \r\n    \"parameters\": [          \r\n        {\"name\": \"@categoryId\", \"value\": \"AB952F9F-5ABA-4251-BC2D-AFF8DF412A4A\"}         \r\n    ] \r\n}"
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v3/colls/product/docs",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v3",
						"colls",
						"product",
						"docs"
					]
				}
			},
			"response": []
		},
		{
			"name": "Query Products For Category",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"postman.clearEnvironmentVariable(\"RFC1123time\");",
							"postman.clearEnvironmentVariable(\"masterKey\");",
							"postman.clearEnvironmentVariable(\"authToken\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}"
					},
					{
						"key": "x-ms-documentdb-isquery",
						"value": "true"
					},
					{
						"key": "Content-Type",
						"value": "application/query+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{      \r\n    \"query\": \"SELECT COUNT(1) AS ProductCount, \r\n                 c.categoryName FROM c WHERE c.categoryId = @categoryId \r\n                 GROUP BY c.categoryName\",     \r\n    \"parameters\": [          \r\n        {\"name\": \"@categoryId\", \"value\": \"86F3CBAB-97A7-4D01-BABB-ADEFFFAED6B4\"}         \r\n    ] \r\n}"
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v3/colls/product/docs",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v3",
						"colls",
						"product",
						"docs"
					]
				}
			},
			"response": []
		},
		{
			"name": "Query SalesOrders By CustomerId",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"postman.clearEnvironmentVariable(\"RFC1123time\");",
							"postman.clearEnvironmentVariable(\"masterKey\");",
							"postman.clearEnvironmentVariable(\"authToken\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}"
					},
					{
						"key": "x-ms-documentdb-isquery",
						"value": "true"
					},
					{
						"key": "Content-Type",
						"value": "application/query+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{      \r\n    \"query\": \"SELECT * from c WHERE c.type = 'salesOrder' and c.customerId = @customerId\",     \r\n    \"parameters\": [          \r\n        {\"name\": \"@customerId\", \"value\": \"FFD0DD37-1F0E-4E2E-8FAC-EAF45B0E9447\"}         \r\n    ] \r\n}"
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v4/colls/customer/docs",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v4",
						"colls",
						"customer",
						"docs"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update Document - ProductCategory",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"postman.clearEnvironmentVariable(\"RFC1123time\");",
							"postman.clearEnvironmentVariable(\"masterKey\");",
							"postman.clearEnvironmentVariable(\"authToken\");",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// store our master key for documentdb\r",
							"var mastKey = postman.getEnvironmentVariable(\"DocumentDBMasterKey\");\r",
							"console.log(\"mastKey = \" + mastKey);\r",
							"\r",
							"// store our date as RFC1123 format for the request\r",
							"var today = new Date();\r",
							"var UTCstring = today.toUTCString();\r",
							"postman.setEnvironmentVariable(\"RFC1123time\", UTCstring);\r",
							"\r",
							"// Grab the request url\r",
							"var url = request.url.trim(); \r",
							"console.log(\"request url = \" + url);\r",
							"\r",
							"// strip the url of the hostname up and leading slash\r",
							"var strippedurl = url.replace(new RegExp('^https?://[^/]+/'),'/');\r",
							"console.log (\"stripped Url = \" + strippedurl);\r",
							"\r",
							"// push the parts down into an array so we can determine if the call is on a specific item\r",
							"// or if it is on a resource (odd would mean a resource, even would mean an item)\r",
							"var strippedparts = strippedurl.split(\"/\");\r",
							"var truestrippedcount = (strippedparts.length - 1);\r",
							"console.log(truestrippedcount);\r",
							"\r",
							"// define resourceId/Type now so we can assign based on the amount of levels\r",
							"var resourceId = \"\";\r",
							"var resType = \"\";\r",
							"\r",
							"// its odd (resource request)\r",
							"if (truestrippedcount % 2)\r",
							"{\r",
							"    console.log(\"odd\");\r",
							"    // assign resource type to the last part we found.\r",
							"    resType = strippedparts[truestrippedcount];\r",
							"    console.log(resType);\r",
							"    \r",
							"    if (truestrippedcount > 1)\r",
							"    {\r",
							"        // now pull out the resource id by searching for the last slash and substringing to it.\r",
							"        var lastPart = strippedurl.lastIndexOf(\"/\");\r",
							"        resourceId = strippedurl.substring(1,lastPart);\r",
							"        console.log(resourceId);\r",
							"    }\r",
							"}\r",
							"else // its even (item request on resource)\r",
							"{\r",
							"    console.log(\"even\");\r",
							"    // assign resource type to the part before the last we found (last is resource id)\r",
							"    resType = strippedparts[truestrippedcount - 1];\r",
							"    console.log(\"resType\");\r",
							"    // finally remove the leading slash which we used to find the resource if it was\r",
							"    // only one level deep.\r",
							"    strippedurl = strippedurl.substring(1);\r",
							"    console.log(\"strippedurl\");\r",
							"    // assign our resourceId\r",
							"    resourceId = strippedurl;\r",
							"    console.log(\"resourceId\");\r",
							"}\r",
							"\r",
							"// assign our verb\r",
							"var verb = request.method.toLowerCase();\r",
							"\r",
							"// assign our RFC 1123 date\r",
							"var date = UTCstring.toLowerCase();\r",
							"\r",
							"// parse our master key out as base64 encoding\r",
							"var key = CryptoJS.enc.Base64.parse(mastKey);\r",
							"console.log(\"key = \" + key);\r",
							"\r",
							"// build up the request text for the signature so can sign it along with the key\r",
							"var text = (verb || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resType || \"\").toLowerCase() + \"\\n\" + \r",
							"               (resourceId || \"\") + \"\\n\" + \r",
							"               (date || \"\").toLowerCase() + \"\\n\" + \r",
							"               \"\" + \"\\n\";\r",
							"console.log(\"text = \" + text);\r",
							"\r",
							"// create the signature from build up request text\r",
							"var signature = CryptoJS.HmacSHA256(text, key);\r",
							"console.log(\"sig = \" + signature);\r",
							"\r",
							"// back to base 64 bits\r",
							"var base64Bits = CryptoJS.enc.Base64.stringify(signature);\r",
							"console.log(\"base64bits = \" + base64Bits);\r",
							"\r",
							"// format our authentication token and URI encode it.\r",
							"var MasterToken = \"master\";\r",
							"var TokenVersion = \"1.0\";\r",
							"auth = encodeURIComponent(\"type=\" + MasterToken + \"&ver=\" + TokenVersion + \"&sig=\" + base64Bits);\r",
							"console.log(\"auth = \" + auth);\r",
							"\r",
							"// set our auth token enviornmental variable.\r",
							"postman.setEnvironmentVariable(\"authToken\", auth);\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "x-ms-version",
						"value": "{{DocumentDBAPIVersion}}"
					},
					{
						"key": "Authorization",
						"value": "{{authToken}}"
					},
					{
						"key": "x-ms-date",
						"value": "{{RFC1123time}}"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "x-ms-documentdb-partitionkey",
						"value": "[\"category\"]",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "    {\r\n        \"id\": \"86F3CBAB-97A7-4D01-BABB-ADEFFFAED6B4\",\r\n        \"name\": \"Accessories, Tires and Tubes\",\r\n        \"type\": \"category\"\r\n    }"
				},
				"url": {
					"raw": "https://{{DocumentDBHost}}/dbs/database-v3/colls/productCategory/docs/86F3CBAB-97A7-4D01-BABB-ADEFFFAED6B4",
					"protocol": "https",
					"host": [
						"{{DocumentDBHost}}"
					],
					"path": [
						"dbs",
						"database-v3",
						"colls",
						"productCategory",
						"docs",
						"86F3CBAB-97A7-4D01-BABB-ADEFFFAED6B4"
					]
				}
			},
			"response": []
		}
	]
}